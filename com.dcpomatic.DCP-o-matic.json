{
    "app-id": "org.dcpomatic.DCP-o-matic",
    "runtime": "org.gnome.Platform",
    "runtime-version": "3.26",
    "sdk": "org.gnome.Sdk",
    "command": "dcpomatic2",
    "modules": [
	{
	    "name": "libzip",
	    "buildsystem": "cmake",
	    "sources": [
		{
		    "type": "archive",
		    "url": "https://libzip.org/download/libzip-1.4.0.tar.xz",
		    "sha256": "e508aba025f5f94b267d5120fc33761bcd98440ebe49dbfe2ed3df3afeacc7b1"
		}
	    ]
	},
	{
	    "name": "imagemagick",
	    "cleanup": [ "/bin" ],
	    "sources": [
		{
		    "type": "archive",
		    "url": "https://www.imagemagick.org/download/ImageMagick.tar.gz",
		    "sha256": "3cabd2988d7809046694859d1d3b2adf4de8ada7f8eea8cd9e29da030ba4b778"
		}
	    ]
	},
	{
	    "name": "libsigc++",
	    "sources": [
		{
		    "type": "archive",
		    "url": "https://download.gnome.org/sources/libsigc++/2.10/libsigc++-2.10.0.tar.xz",
		    "sha256": "f843d6346260bfcb4426259e314512b99e296e8ca241d771d21ac64f28298d81"
		}
	    ]
	},
	{
	    "name": "glibmm",
	    "sources": [
		{
		    "type": "archive",
		    "url": "http://ftp.gnome.org/pub/GNOME/sources/glibmm/2.48/glibmm-2.48.1.tar.xz",
		    "sha256": "dc225f7d2f466479766332483ea78f82dc349d59399d30c00de50e5073157cdf"
		}
	    ]
	},
	{
	    "name": "cairomm",
	    "sources": [
		{
		    "type": "archive",
		    "url": "https://www.cairographics.org/releases/cairomm-1.12.2.tar.gz",
		    "sha256": "45c47fd4d0aa77464a75cdca011143fea3ef795c4753f6e860057da5fb8bd599"
		}
	    ]
	},
	{
	    "name": "pangomm",
	    "sources": [
		{
		    "type": "archive",
		    "url": "http://ftp.gnome.org/pub/GNOME/sources/pangomm/2.40/pangomm-2.40.1.tar.xz",
		    "sha256": "9762ee2a2d5781be6797448d4dd2383ce14907159b30bc12bf6b08e7227be3af"
		}
	    ]
	},
	{
	    "name": "libxml++",
	    "sources": [
		{
		    "type": "archive",
		    "url": "https://ftp.gnome.org/pub/GNOME/sources/libxml++/2.40/libxml++-2.40.1.tar.xz",
		    "sha256": "4ad4abdd3258874f61c2e2a41d08e9930677976d303653cd1670d3e9f35463e9"
		}
	    ]
	},
	{
	    "name": "xmlsec1",
	    "sources": [
		{
		    "type": "archive",
		    "url": "http://www.aleksey.com/xmlsec/download/xmlsec1-1.2.25.tar.gz",
		    "sha256": "967ca83edf25ccb5b48a3c4a09ad3405a63365576503bf34290a42de1b92fcd2"
		}
	    ]
	},
	{
	    "name": "openjpeg2",
	    "buildsystem": "cmake",
	    "sources": [
		{
		    "type": "git",
		    "url": "ssh://git.carlh.net/home/carl/git/openjpeg2-cdist.git"
		}
	    ]
	},
	{
	    "name": "boost",
	    "buildsystem": "simple",
	    "build-commands": [
		"./bootstrap.sh --prefix=/app",
		"./b2 install"
	    ],
	    "sources": [
		{
		    "type": "archive",
		    "url": "https://dl.bintray.com/boostorg/release/1.66.0/source/boost_1_66_0.tar.bz2",
		    "sha256": "5721818253e6a0989583192f96782c4a98eb6204965316df9f5ad75819225ca9"
		}
	    ]
	},
	{
	    "name": "asdcplib",
	    "buildsystem": "simple",
	    "build-commands": [
		"./waf configure --prefix=/app  --libdir=/app/lib build install"
	    ],
	    "sources": [
		{
		    "type": "git",
		    "branch": "cth",
		    "url": "ssh://git.carlh.net/home/carl/git/asdcplib-cth.git"
		}
	    ]
	},
	{
	    "name": "locked_sstream",
	    "buildsystem": "simple",
	    "build-commands": [
		"./waf configure --prefix=/app build install"
	    ],
	    "sources": [
		{
		    "type": "git",
		    "url": "ssh://git.carlh.net/home/carl/git/locked_sstream.git",
		    /* XXX: want to get the version from cscript */
		    "branch": "v0.0.5"
		}
	    ]
	},
	{
	    "name": "libcxml",
	    "buildsystem": "simple",
	    "build-commands": [
		"./waf configure --prefix=/app  --libdir=/app/lib build install"
	    ],
	    "sources": [
		{
		    "type": "git",
		    "url": "ssh://git.carlh.net/home/carl/git/libcxml.git",
		    /* XXX: want to get the version from cscript */
		    "branch": "v0.15.5"
		}
	    ]
	},
	{
	    "name": "libdcp",
	    "buildsystem": "simple",
	    "build-commands": [
		"./waf configure --prefix=/app --libdir=/app/lib build install"
	    ],
	    "sources": [
		{
		    "type": "git",
		    "url": "ssh://git.carlh.net/home/carl/git/libdcp.git",
		    /* XXX: want to get the version from cscript */
		    "branch": "v1.5.1"
		}
	    ]
	},
	{
	    "name": "libsub",
	    "buildsystem": "simple",
	    "build-commands": [
		"./waf configure --prefix=/app --libdir=/app/lib build install"
	    ],
	    "sources": [
		{
		    "type": "git",
		    "url": "ssh://git.carlh.net/home/carl/git/libsub.git",
		    /* XXX: want to get the version from cscript */
		    "branch": "v1.3.0"
		}
	    ]
	},
	{
	    "name": "rtaudio",
	    "build-options": {
		"config-opts": [
		    "--prefix=/app",
		    "--with-pulse",
		    "--with-alsa"
		]
	    },
	    "sources": [
		{
		    "type": "git",
		    "url": "ssh://git.carlh.net/home/carl/git/rtaudio-cdist.git",
		    /* XXX: want to get the version from cscript */
		    "commit": "739969e"
		}
	    ]
	},
	{
	    "name": "wxwidgets",
	    "sources": [
		{
		    "type": "archive",
		    "url": "https://github.com/wxWidgets/wxWidgets/releases/download/v3.0.3/wxWidgets-3.0.3.tar.bz2",
		    "sha256": "08c8033f48ec1b23520f036cde37b5ae925a6a65f137ded665633ca159b9307b"
		}
	    ]
	},
	{
	    "name": "libssh",
	    "buildsystem": "cmake",
	    "builddir": true,
	    "sources": [
		{
		    "type": "archive",
		    "url": "https://red.libssh.org/attachments/download/218/libssh-0.7.5.tar.xz",
		    "sha256": "54e86dd5dc20e5367e58f3caab337ce37675f863f80df85b6b1614966a337095"
		}
	    ]
	},
	{
	    "name": "dcpomatic",
	    "buildsystem": "simple",
	    "build-commands": [
		"./waf configure --prefix=/app build install"
	    ],
	    "sources": [
		{
		    "type": "git",
		    "url": "ssh://git.carlh.net/home/carl/git/dcpomatic.git"
		}
	    ]
	}
    ]
}
